(function(){"use strict";var e={6295:function(e,t,a){var l=a(5130),s=a(6768),r=a(144),o=a(782);const n={class:"bg-white"};function u(e,t){return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("div",n,[(0,s.RG)(e.$slots,"default")])])}var c=a(1241);const i={},d=(0,c.A)(i,[["render",u]]);var p=d,m=a(4232);const v=["type","disabled"],y=["innerHTML"];var f=(0,s.pM)({__name:"Button",props:{label:{type:String,required:!0},type:{type:String,default:"button"},styleType:{type:String,default:"main"},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:t}){const a=e,l=t,r=(0,s.EW)((()=>{switch(a.styleType){default:return"bg-black hover:bg-gray-700 w-full py-2 px-4 text-white font-semibold rounded-full shadow-md focus:outline-none";case"MainNoFull":return"bg-black hover:bg-gray-700 text-white font-bold px-4 py-2 rounded-full disabled:bg-gray-400 disabled:cursor-not-allowed";case"secondary":return"self-end border border-gray-500 text-gray-500 hover:text-white hover:bg-gray-500 py-2 px-4 font-semibold rounded-full focus:outline-none";case"close":return"absolute top-2 right-2 cursor-pointer bg-gray-500 text-white hover:bg-gray-700 text-lg w-8 h-8 flex items-center justify-center w-8 h-8 text-white font-semibold rounded-full shadow-md focus:outline-none";case"countDecrement":return"bg-black text-white hover:bg-gray-700 px-2 py-1 w-6 rounded-l";case"countIncrement":return"bg-black text-white hover:bg-gray-700 px-2 py-1 w-6 rounded-r";case"removeItem":return"bg-gray-500 text-white hover:bg-gray-700 px-2 py-1 h-8 w-8 rounded-full"}})),o=e=>{l("click",e)};return(t,a)=>((0,s.uX)(),(0,s.CE)("button",{type:e.type,onClick:o,class:(0,m.C4)([r.value]),disabled:e.disabled},[(0,s.Lk)("span",{innerHTML:e.label},null,8,y)],10,v))}});const g=f;var b=g;const x=["for"],h=["type","id","value","required","placeholder"];var k=(0,s.pM)({__name:"Input",props:{label:String,id:String,modelValue:[String,Number],type:{type:String,default:"text"},styleType:{type:String,default:"form"},placeholder:{type:String,default:""},required:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(e,{emit:t}){const a=e,l=t,r=(0,s.EW)((()=>{switch(a.styleType){default:return"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black sm:text-sm";case"count":return"w-12 text-center bg-white border border-gray-300 px-2 py-1"}})),o=e=>{const t=e.target;t&&l("update:modelValue",t.value)};return(t,a)=>((0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("label",{for:e.id,class:"block text-sm font-medium text-gray-700 text-left"},(0,m.v_)(e.label),9,x),(0,s.Lk)("input",{type:e.type,id:e.id,value:e.modelValue,onInput:o,class:(0,m.C4)([r.value]),required:e.required,placeholder:e.placeholder},null,42,h)]))}});const _=k;var C=_;const E={class:"flex justify-center items-center h-64"},w=(0,s.Lk)("div",{class:"animate-spin rounded-full h-32 w-32 border-t-4 border-b-4 border-black"},null,-1),L=[w];function R(e,t){return(0,s.uX)(),(0,s.CE)("div",E,L)}const T={},S=(0,c.A)(T,[["render",R]]);var U=S;const P=["for"],A=["id","value"],I=(0,s.Lk)("option",{value:""},"All",-1),F=["value"];var D=(0,s.pM)({__name:"Select",props:{id:{type:String,required:!0},modelValue:{type:[String,Number],required:!0},options:{type:Array,required:!0},label:{type:String,default:""}},emits:["update:modelValue"],setup(e,{emit:t}){const a=t,l=e=>{const t=e.target;a("update:modelValue",t.value)};return(t,a)=>((0,s.uX)(),(0,s.CE)("div",null,[(0,s.Lk)("label",{for:e.id,class:"block text-sm font-medium text-gray-700 text-left"},(0,m.v_)(e.label),9,P),(0,s.Lk)("select",{id:e.id,value:e.modelValue,onInput:l,class:"mt-1 block w-full pl-3 pr-10 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-black focus:border-black sm:text-sm custom-select"},[I,((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.options,(e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value,value:e.value},(0,m.v_)(e.text),9,F)))),128))],40,A)]))}});const O=D;var V=O;const X={class:"mb-4"},M={class:"text-gray-400"},N={class:"text-gray-900"};var j=(0,s.pM)({__name:"UserFieldDisplay",props:{label:{type:String,required:!0},value:{type:String,required:!0}},setup(e){return(t,a)=>((0,s.uX)(),(0,s.CE)("div",X,[(0,s.Lk)("p",M,(0,m.v_)(e.label)+":",1),(0,s.Lk)("p",N,(0,m.v_)(e.value),1)]))}});const W=j;var K=W;const q={class:"bg-white p-6 rounded-lg shadow-md w-full max-w-md"},G=(0,s.Lk)("h2",{class:"text-2xl font-bold text-center mb-4"},"Login",-1),B={class:"mt-4 text-center text-gray-600"};var $=(0,s.pM)({__name:"LoginForm",setup(e){const t=(0,r.KR)("TestUserName"),a=(0,r.KR)("password123"),n=(0,o.Pj)(),u=async()=>{const e={username:t.value,password:a.value};await n.dispatch("users/loginUser",e)};return(e,o)=>((0,s.uX)(),(0,s.CE)("div",q,[G,(0,s.Lk)("form",{onSubmit:(0,l.D$)(u,["prevent"]),class:"space-y-4"},[(0,s.bF)((0,r.R1)(C),{label:"User Name",id:"userName",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),type:"text"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(C),{label:"Password",id:"password",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e),type:"password"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(b),{label:"Login",type:"submit",styleType:"main"})],32),(0,s.Lk)("p",B,[(0,s.eW)(" Don't have an account? "),(0,s.Lk)("a",{onClick:o[2]||(o[2]=t=>e.$emit("toggleMode")),class:"text-indigo-600 hover:underline cursor-pointer"}," Register here ")])]))}});const Q=$;var H=Q;const Y={key:0,class:"fixed inset-0 flex items-center justify-center p-4 bg-black bg-opacity-50"},z={class:"fixed inset-0 flex items-center justify-center px-0 sm:p-4"},J={class:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-screen overflow-y-auto pt-10 pb-4 px-4 sm:p-10 relative"};var Z=(0,s.pM)({__name:"ModalWindow",props:{isModalOpen:{type:Boolean}},emits:["update:isModalOpen","closeModal"],setup(e,{emit:t}){const a=e,l=t,o=(0,r.KR)(a.isModalOpen),n=()=>{l("closeModal")};return(0,s.wB)((()=>a.isModalOpen),(e=>{o.value=e,document.body.style.overflow=e?"hidden":""}),{immediate:!0}),(e,t)=>o.value?((0,s.uX)(),(0,s.CE)("div",Y,[(0,s.Lk)("div",z,[(0,s.Lk)("div",J,[(0,s.bF)((0,r.R1)(b),{label:'<i class="fas fa-times"></i>',type:"button",styleType:"close",onClick:n}),(0,s.RG)(e.$slots,"default")])])])):(0,s.Q3)("",!0)}});const ee=Z;var te=ee;a(4979);const ae=e=>0===e.length?e:e.charAt(0).toUpperCase()+e.slice(1),le=e=>"string"===typeof e?e.charAt(0).toUpperCase()+e.slice(1):Array.isArray(e)?e.map((e=>e.charAt(0).toUpperCase())).join(""):"",se=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),re=e=>{const t={year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"};return new Date(e).toLocaleDateString("en-US",t)};var oe=a.p+"img/shop.2cb34507.png";const ne={class:"flex justify-between items-center p-4 border-b border-gray-300 bg-white"},ue={class:"ml-3"},ce=["src"],ie={class:"flex space-x-6 font-bold"},de={class:"flex justify-center items-center space-x-4 pr-4 relative"},pe={class:"text-left"},me=(0,s.Lk)("i",{class:"fas fa-user"},null,-1),ve=(0,s.Lk)("i",{class:"fas fa-shopping-bag"},null,-1);var ye=(0,s.pM)({__name:"NavBar",setup(e){const t=(0,o.Pj)(),a=(0,s.EW)((()=>t.state.users.signedInUser)),n=(0,r.KR)(""),u=(0,r.KR)(""),c=(0,r.KR)(!1);(0,s.wB)(a,(e=>{e&&(n.value=a.value.first_name,u.value=a.value.last_name)}));const i=()=>{c.value=!c.value},d=e=>{e.composedPath().some((e=>e.classList?.contains("relative")))||c.value&&(c.value=!1)};return(0,s.sV)((()=>{document.addEventListener("click",d)})),(0,s.hi)((()=>{document.removeEventListener("click",d)})),(e,t)=>{const o=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("nav",ne,[(0,s.Lk)("div",ue,[(0,s.Lk)("img",{src:(0,r.R1)(oe),alt:"Logo",class:"h-10 max-h-9"},null,8,ce)]),(0,s.Lk)("ul",ie,[(0,s.bF)(o,{class:"text-black hover:text-gray-600",to:"/"},{default:(0,s.k6)((()=>[(0,s.eW)("Home")])),_:1}),(0,s.bF)(o,{class:"text-black hover:text-gray-600",to:"/catalog"},{default:(0,s.k6)((()=>[(0,s.eW)("Catalog")])),_:1})]),(0,s.Lk)("div",de,[a.value?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"flex h-full font-bold relative",onClick:t[1]||(t[1]=(0,l.D$)((()=>{}),["stop"]))},[(0,s.Lk)("div",{onClick:i,class:"cursor-pointer"},(0,m.v_)((0,r.R1)(le)([n.value,u.value])),1),(0,s.bo)((0,s.Lk)("div",{onClick:i,class:"absolute cursor-pointer w-full h-full flex justify-end items-start z-20"},[(0,s.Lk)("div",{class:"bg-white p-2 rounded-lg shadow-lg mt-8 inline-block",onClick:t[0]||(t[0]=(0,l.D$)((()=>{}),["stop"]))},[(0,s.bF)((0,r.R1)(p),null,{default:(0,s.k6)((()=>[(0,s.Lk)("div",pe,[(0,s.bF)((0,r.R1)(K),{label:"First Name",value:(0,r.R1)(ae)(n.value)},null,8,["value"]),(0,s.bF)((0,r.R1)(K),{label:"Last Name",value:(0,r.R1)(ae)(u.value)},null,8,["value"]),a.value.email?((0,s.uX)(),(0,s.Wv)((0,r.R1)(K),{key:0,label:"Email",value:a.value.email},null,8,["value"])):(0,s.Q3)("",!0),a.value.username?((0,s.uX)(),(0,s.Wv)((0,r.R1)(K),{key:1,label:"Username",value:a.value.username},null,8,["value"])):(0,s.Q3)("",!0)])])),_:1})])],512),[[l.aG,c.value]])])):((0,s.uX)(),(0,s.Wv)(o,{key:1,class:"text-black hover:text-gray-600 text-lg",to:"/user"},{default:(0,s.k6)((()=>[me])),_:1})),a.value?((0,s.uX)(),(0,s.Wv)(o,{key:2,class:"text-black hover:text-gray-600 text-lg",to:"/carts"},{default:(0,s.k6)((()=>[ve])),_:1})):(0,s.Q3)("",!0)])])}}});const fe=ye;var ge=fe;const be={class:"bg-white shadow rounded-lg overflow-hidden flex flex-col"},xe={class:"p-6 aspect-h-1 aspect-w-1 w-full overflow-hidden rounded-md lg:aspect-none group-hover:opacity-75 lg:h-80 flex justify-center"},he=["src","alt"],ke={class:"p-6 flex flex-col flex-grow"},_e={class:"flex items-center justify-between mb-2"},Ce={class:"text-lg font-semibold text-gray-900"},Ee={class:"ml-4 bg-black text-white rounded-full px-3 py-1 text-lg font-bold"},we={class:"text-gray-400 text-justify flex-grow"},Le={class:"flex items-center mt-4"},Re={class:"text-yellow-500"},Te={class:"text-gray-400"},Se={class:"text-gray-600 ml-2"};var Ue=(0,s.pM)({__name:"ProductCard",props:{product:{type:Object,required:!0}},setup(e){return(t,a)=>{const l=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("li",be,[(0,s.bF)(l,{to:{name:"ProductDetail",params:{id:e.product.id}}},{default:(0,s.k6)((()=>[(0,s.Lk)("div",xe,[e.product.image?((0,s.uX)(),(0,s.CE)("img",{key:0,class:"h-full object-contain",src:e.product.image,alt:e.product.title},null,8,he)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",ke,[(0,s.Lk)("div",_e,[(0,s.Lk)("h3",Ce,(0,m.v_)(e.product.title),1),(0,s.Lk)("div",Ee," $"+(0,m.v_)(e.product.price),1)]),(0,s.Lk)("div",we,[(0,s.Lk)("p",null,(0,m.v_)(e.product.description),1)]),(0,s.Lk)("div",Le,[(0,s.Lk)("span",Re,(0,m.v_)("★".repeat(Math.round(e.product.rating.rate))),1),(0,s.Lk)("span",Te,(0,m.v_)("★".repeat(5-Math.round(e.product.rating.rate))),1),(0,s.Lk)("span",Se,"("+(0,m.v_)(e.product.rating.count)+" ratings)",1)])])])),_:1},8,["to"])])}}});const Pe=Ue;var Ae=Pe,Ie=a(1387);const Fe={key:1,class:"flex justify-center items-start md:items-center bg-white h-full"},De={key:0,class:"max-w-5xl w-4/5 bg-white rounded-lg shadow-md flex flex-col md:flex-row p-6"},Oe=["src"],Ve={class:"flex flex-col justify-between w-full md:w-1/2 overflow-y-auto rounded-lg ml-0 md:ml-6"},Xe={class:"text-right mt-4"},Me={class:"text-2xl text-gray-900 font-semibold mb-2"},Ne={class:"text-lg font-medium text-gray-900 mb-2"},je={class:"self-end ml-4 bg-black text-white rounded-full px-3 py-1 text-lg font-bold inline-block mb-4"},We={class:"text-gray-400 text-justify mb-4"},Ke={class:"flex flex-col mt-6 space-y-4"},qe={class:"flex justify-between items-center"},Ge=(0,s.Lk)("label",{for:"quantity",class:"text-gray-700 text-xl"},"Quantity",-1),Be={class:"flex items-center"};var $e=(0,s.pM)({__name:"ProductDetail",emits:["openModal"],setup(e,{emit:t}){const a=(0,o.Pj)(),l=(0,Ie.lq)(),n=(0,Ie.rd)(),u=(0,r.KR)(l.params.id),c=(0,r.KR)(1),i=(0,s.EW)((()=>a.state.products.productDetail)),d=(0,s.EW)((()=>a.state.products.isLoading)),p=t,v=()=>{a.dispatch("products/fetchProductDetail",u.value)},y=()=>{n.back()},f=()=>{c.value>1&&c.value--},g=()=>{c.value++},x=()=>{a.dispatch("products/addToCart",{...i.value,quantity:c.value}),p("openModal")};return(0,s.sV)((()=>{v()})),(e,t)=>d.value?((0,s.uX)(),(0,s.Wv)((0,r.R1)(U),{key:0})):((0,s.uX)(),(0,s.CE)("div",Fe,[i.value?((0,s.uX)(),(0,s.CE)("div",De,[(0,s.Lk)("img",{src:i.value.image,alt:"Product Image",class:"w-full md:w-1/2 rounded-lg object-contain mb-4 md:mb-0"},null,8,Oe),(0,s.Lk)("div",Ve,[(0,s.bF)((0,r.R1)(b),{label:"< Back",type:"button",styleType:"secondary",onClick:y}),(0,s.Lk)("div",Xe,[(0,s.Lk)("h2",Me,(0,m.v_)(i.value.title),1),(0,s.Lk)("p",Ne,(0,m.v_)(i.value.category),1),(0,s.Lk)("p",je,(0,m.v_)((0,r.R1)(se)(i.value.price)),1),(0,s.Lk)("p",We,(0,m.v_)(i.value.description),1)]),(0,s.Lk)("div",Ke,[(0,s.Lk)("div",qe,[Ge,(0,s.Lk)("div",Be,[(0,s.bF)((0,r.R1)(b),{label:"-",type:"button",styleType:"countDecrement",onClick:f}),(0,s.bF)((0,r.R1)(C),{type:"text",id:"quantity",modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=e=>c.value=e),styleType:"count"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(b),{label:"+",type:"button",styleType:"countIncrement",onClick:g})])]),(0,s.bF)((0,r.R1)(b),{label:"ADD TO CART",type:"button",styleType:"main",onClick:x})])])])):(0,s.Q3)("",!0)]))}});const Qe=$e;var He=Qe;const Ye={class:"p-6 max-w-xl mx-auto"},ze=(0,s.Lk)("h2",{class:"text-2xl font-semibold mb-6"},"Product Filters",-1),Je={class:"space-y-4"},Ze={class:"space-y-2"},et=(0,s.Lk)("label",{class:"block text-sm font-medium text-gray-700 text-left"},"Search:",-1),tt={class:"space-y-2"},at={class:"flex space-x-4 mt-6"};var lt=(0,s.pM)({__name:"ProductFilters",setup(e){const t=(0,o.Pj)(),a=(0,r.KR)(""),l=(0,r.KR)(""),n=(0,s.EW)((()=>t.state.products.categories)),u=(0,s.EW)((()=>n.value.map((e=>({value:e.id,text:e.name}))))),c=()=>{t.dispatch("products/fetchCategories")},i=()=>{const e={search:a.value,category:l.value};t.dispatch("products/fetchProducts",e)},d=()=>{a.value="",l.value="";const e={search:"",category:""};t.dispatch("products/fetchProducts",e)};return(0,s.sV)((()=>{c()})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",Ye,[ze,(0,s.Lk)("div",Je,[(0,s.Lk)("div",Ze,[et,(0,s.bF)((0,r.R1)(C),{type:"text",id:"searchInput",modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=e=>a.value=e),styleType:"form",placeholder:"Search products..."},null,8,["modelValue"])]),(0,s.Lk)("div",tt,[(0,s.bF)((0,r.R1)(V),{id:"categorySelect",modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=e=>l.value=e),options:u.value,label:"Category:"},null,8,["modelValue","options"])])]),(0,s.Lk)("div",at,[(0,s.bF)((0,r.R1)(b),{label:"Apply",type:"button",styleType:"main",onClick:i}),(0,s.bF)((0,r.R1)(b),{label:"Reset",type:"button",styleType:"secondary",onClick:d})])]))}});const st=lt;var rt=st;const ot={class:"p-6 max-w-7xl mx-auto"},nt=(0,s.Lk)("h2",{class:"text-2xl font-semibold mb-6"},"Product List",-1),ut={key:1,class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 overflow-auto scrollbar"};var ct=(0,s.pM)({__name:"ProductList",setup(e){const t=(0,o.Pj)(),a=(0,s.EW)((()=>t.state.products.products)),l=(0,s.EW)((()=>t.state.products.isLoading)),n=()=>{t.dispatch("products/fetchProducts")};return(0,s.sV)((()=>{n()})),(e,t)=>((0,s.uX)(),(0,s.CE)("div",ot,[nt,l.value?((0,s.uX)(),(0,s.Wv)((0,r.R1)(U),{key:0})):((0,s.uX)(),(0,s.CE)("ul",ut,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.value,(e=>((0,s.uX)(),(0,s.Wv)((0,r.R1)(Ae),{key:e.id,product:e},null,8,["product"])))),128))]))]))}});const it=ct;var dt=it;a(4114);const pt={class:"flex justify-center items-center cursor-pointer"},mt={key:0,class:"space-y-4"},vt={class:"flex flex-wrap sm:flex-nowrap justify-start items-center"},yt={class:"text-gray-700 font-semibold mx-2"},ft=["src","alt"],gt={class:"border-t mt-4 pt-4"},bt={class:"block text-lg font-medium text-gray-900 text-right mb-4"};var xt=(0,s.pM)({__name:"ProductRow",props:{userCart:{}},setup(e){const t=e,a=(0,r.KR)(!1),l=(0,Ie.rd)(),o=(0,s.EW)((()=>t.userCart.cart.reduce(((e,t)=>e+t.price*t.quantity),0))),n=()=>{a.value=!0},u=()=>{a.value=!1},c=()=>{a.value=!1,l.push("/catalog")};return(e,t)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",pt,[(0,s.Lk)("div",{onClick:n,class:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-screen overflow-y-auto p-6"},[e.userCart?((0,s.uX)(),(0,s.CE)("div",mt,[(0,s.Lk)("div",vt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.userCart.cart,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"flex items-center mr-6 my-2"},[(0,s.Lk)("span",yt,(0,m.v_)(e.quantity)+"x",1),(0,s.Lk)("img",{src:e.image,alt:e.title,class:"h-16 w-16 object-contain rounded"},null,8,ft)])))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",gt,[(0,s.Lk)("span",bt," Total: "+(0,m.v_)((0,r.R1)(se)(o.value)),1)])])]),(0,s.bF)((0,r.R1)(te),{isModalOpen:a.value,onCloseModal:u},{default:(0,s.k6)((()=>[(0,s.bF)((0,r.R1)(Ot),{cartItems:e.userCart.cart,onCloseModalToCatalog:c},null,8,["cartItems"])])),_:1},8,["isModalOpen"])],64))}});const ht=xt;var kt=ht;const _t={class:"space-y-4"},Ct={key:0,class:"text-lg text-gray-900 font-medium text-left"},Et=["src","alt"],wt={class:"text-lg text-gray-900 font-medium text-left"},Lt={class:"flex items-center space-x-2 text-base"},Rt={class:"text-lg text-gray-900 font-medium text-right"},Tt={class:"border-t mt-4 pt-4"},St={class:"block text-lg font-medium text-gray-900 text-right mb-4"},Ut={class:"flex flex-col sm:flex-row justify-end items-end sm:items-center space-y-2 sm:space-y-0 sm:space-x-4"},Pt={key:0,class:"mt-4 max-h-[calc(100vh-4rem)] overflow-y-auto"},At={key:1,class:"flex flex-col items-center"},It=(0,s.Lk)("p",{class:"text-lg text-gray-900 font-medium"}," Please login to purchase ",-1);var Ft=(0,s.pM)({__name:"ProductsCart",props:{cartItems:{}},emits:["closeModalToCatalog"],setup(e,{emit:t}){const a=e,l=t,n=(0,o.Pj)(),u=(0,s.EW)((()=>n.state.users.signedInUser)),c=(0,s.EW)((()=>n.state.users.isLoading)),i=(0,s.EW)((()=>a.cartItems.reduce(((e,t)=>e+t.price*t.quantity),0))),d=(0,Ie.rd)();(0,s.wB)(u,(e=>{e&&(v.value=!1)}));const v=(0,r.KR)(!1),y=(0,r.KR)(!0),f=()=>{l("closeModalToCatalog")},g=e=>{const t=a.cartItems[e].quantity+1;n.dispatch("products/updateCartItemQuantity",{index:e,quantity:t})},x=e=>{const t=a.cartItems[e].quantity-1;t>=1&&n.dispatch("products/updateCartItemQuantity",{index:e,quantity:t})},h=e=>{n.dispatch("products/removeCartItem",e)},k=()=>{y.value=!y.value},_=()=>{u.value?(n.dispatch("products/setPurchasedCart"),d.push("/carts")):v.value=!0};return(e,t)=>((0,s.uX)(),(0,s.CE)(s.FK,null,[(0,s.Lk)("div",_t,[u.value?((0,s.uX)(),(0,s.CE)("div",Ct," Welcome "+(0,m.v_)((0,r.R1)(ae)(u.value.first_name))+" "+(0,m.v_)((0,r.R1)(ae)(u.value.last_name))+", you can purchase now: ",1)):(0,s.Q3)("",!0),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.cartItems,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"flex flex-wrap sm:flex-nowrap justify-start items-center space-x-4 space-y-4"},[(0,s.Lk)("img",{src:e.image,alt:e.title,class:"h-20 w-16 object-contain rounded"},null,8,Et),(0,s.Lk)("h6",wt,(0,m.v_)(e.title),1),(0,s.Lk)("div",Lt,[(0,s.bF)((0,r.R1)(b),{label:"-",type:"button",styleType:"countDecrement",onClick:e=>x(t)},null,8,["onClick"]),(0,s.Lk)("span",null,(0,m.v_)(e.quantity),1),(0,s.bF)((0,r.R1)(b),{label:"+",type:"button",styleType:"countIncrement",onClick:e=>g(t)},null,8,["onClick"])]),(0,s.Lk)("h6",Rt,(0,m.v_)((0,r.R1)(se)(e.price*e.quantity)),1),(0,s.bF)((0,r.R1)(b),{label:'<i class="fas fa-minus"></i>',type:"button",styleType:"removeItem",onClick:e=>h(t)},null,8,["onClick"])])))),128))]),(0,s.Lk)("div",Tt,[(0,s.Lk)("span",St," Total: "+(0,m.v_)((0,r.R1)(se)(i.value)),1),(0,s.Lk)("div",Ut,[(0,s.bF)((0,r.R1)(b),{label:"Go to Catalog",type:"button",styleType:"secondary",onClick:f}),(0,s.bF)((0,r.R1)(b),{label:"Purchase",type:"button",styleType:"MainNoFull",onClick:_,disabled:0===e.cartItems.length},null,8,["disabled"])])]),v.value?((0,s.uX)(),(0,s.CE)("div",Pt,[(0,s.bF)((0,r.R1)(p),null,{default:(0,s.k6)((()=>[c.value?((0,s.uX)(),(0,s.Wv)((0,r.R1)(U),{key:0})):((0,s.uX)(),(0,s.CE)("div",At,[It,y.value?((0,s.uX)(),(0,s.Wv)((0,r.R1)(H),{key:0,onToggleMode:k})):((0,s.uX)(),(0,s.Wv)((0,r.R1)(ea),{key:1,onToggleMode:k}))]))])),_:1})])):(0,s.Q3)("",!0)],64))}});const Dt=Ft;var Ot=Dt;const Vt={class:"flex flex-col-reverse justify-center items-center flex"},Xt={key:0,class:"space-y-4"},Mt={class:"flex flex-wrap sm:flex-nowrap justify-start items-center"},Nt={class:"text-gray-700 font-semibold mr-2"},jt=["src","alt"],Wt={class:"mt-4 text-right"},Kt={class:"text-sm text-gray-500"},qt={class:"border-t mt-4 pt-4"},Gt={class:"block text-lg font-medium text-gray-900 text-right mb-4"};var Bt=(0,s.pM)({__name:"PurchasedUserCarts",props:{purchasedUserCarts:{}},setup(e){const t=e=>e.cart.reduce(((e,t)=>e+t.price*t.quantity),0);return(e,a)=>((0,s.uX)(),(0,s.CE)("div",Vt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.purchasedUserCarts,((e,a)=>((0,s.uX)(),(0,s.CE)("div",{key:a,class:"bg-white rounded-lg shadow-lg w-full max-w-2xl max-h-screen overflow-y-auto p-4 m-4"},[e?((0,s.uX)(),(0,s.CE)("div",Xt,[(0,s.Lk)("div",Mt,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.cart,((e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"flex items-center mr-6 my-2"},[(0,s.Lk)("span",Nt,(0,m.v_)(e.quantity)+"x ",1),(0,s.Lk)("img",{src:e.image,alt:e.title,class:"h-16 w-16 object-contain rounded"},null,8,jt)])))),128))]),(0,s.Lk)("div",Wt,[(0,s.Lk)("span",Kt," Purchase Date: "+(0,m.v_)((0,r.R1)(re)(e.purchaseDate)),1)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",qt,[(0,s.Lk)("span",Gt," Total: "+(0,m.v_)((0,r.R1)(se)(t(e))),1)])])))),128))]))}});const $t=Bt;var Qt=$t;const Ht={class:"bg-white p-6 rounded-lg shadow-md w-full max-w-md"},Yt=(0,s.Lk)("h2",{class:"text-2xl font-bold text-center mb-4"},"Register",-1),zt={class:"mt-4 text-center text-gray-600"};var Jt=(0,s.pM)({__name:"RegisterForm",setup(e){const t=(0,r.KR)("test@mail.com"),a=(0,r.KR)("TestUserName"),n=(0,r.KR)("TestName"),u=(0,r.KR)("TestLastName"),c=(0,r.KR)("password123"),i=(0,r.KR)("password123"),d=(0,o.Pj)(),p=async()=>{if(c.value!==i.value)return void alert("Passwords do not match!");const e={email:t.value,username:a.value,password:c.value,first_name:n.value,last_name:u.value};await d.dispatch("users/registerUser",e)};return(e,o)=>((0,s.uX)(),(0,s.CE)("div",Ht,[Yt,(0,s.Lk)("form",{onSubmit:(0,l.D$)(p,["prevent"]),class:"space-y-4"},[(0,s.bF)((0,r.R1)(C),{label:"Email",id:"email",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=e=>t.value=e),type:"email"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(C),{label:"User Name",id:"userName",modelValue:a.value,"onUpdate:modelValue":o[1]||(o[1]=e=>a.value=e),type:"text"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(C),{label:"First Name",id:"firstName",modelValue:n.value,"onUpdate:modelValue":o[2]||(o[2]=e=>n.value=e),type:"text"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(C),{label:"Last Name",id:"lastName",modelValue:u.value,"onUpdate:modelValue":o[3]||(o[3]=e=>u.value=e),type:"text"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(C),{label:"Password",id:"password",modelValue:c.value,"onUpdate:modelValue":o[4]||(o[4]=e=>c.value=e),type:"password"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(C),{label:"Confirm Password",id:"confirmPassword",modelValue:i.value,"onUpdate:modelValue":o[5]||(o[5]=e=>i.value=e),type:"password"},null,8,["modelValue"]),(0,s.bF)((0,r.R1)(b),{label:"Register",type:"submit",styleType:"main"})],32),(0,s.Lk)("p",zt,[(0,s.eW)(" Already have an account? "),(0,s.Lk)("a",{onClick:o[6]||(o[6]=t=>e.$emit("toggleMode")),class:"text-indigo-600 hover:underline cursor-pointer"}," Login here ")])]))}});const Zt=Jt;var ea=Zt,ta=(0,s.pM)({__name:"App",setup(e){return(e,t)=>{const a=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)((0,r.R1)(ge)),(0,s.bF)(a,{class:"content"})])}}});const aa=ta;var la=aa,sa=a(7411);const ra=e=>((0,s.Qi)("data-v-8becd7b4"),e=e(),(0,s.jt)(),e),oa={class:"h-screen bg-cover bg-center flex justify-center items-center text-white background-image"},na=ra((()=>(0,s.Lk)("div",{class:"absolute bottom-4 right-4 text-2xl text-black text-right drop-shadow"},[(0,s.eW)(" Created by:"),(0,s.Lk)("br"),(0,s.Lk)("a",{href:"https://www.linkedin.com/in/dmitrii-mikhailov-12101989/",target:"_blank",class:"text-black"},[(0,s.Lk)("i",{class:"fa-brands fa-linkedin mr-2"}),(0,s.eW)("Dmitrii Mikhailov")])],-1))),ua=[na];function ca(e,t){return(0,s.uX)(),(0,s.CE)("div",oa,ua)}const ia={},da=(0,c.A)(ia,[["render",ca],["__scopeId","data-v-8becd7b4"]]);var pa=da,ma=(0,s.pM)({__name:"CatalogView",setup(e){return(e,t)=>((0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)((0,r.R1)(rt)),(0,s.bF)((0,r.R1)(dt))]))}});const va=ma;var ya=va,fa=(0,s.pM)({__name:"ProductDetailView",setup(e){const t=(0,o.Pj)(),a=(0,s.EW)((()=>t.state.products.productCart)),l=(0,Ie.rd)(),n=(0,r.KR)(!1),u=()=>{n.value=!0},c=()=>{n.value=!1},i=()=>{n.value=!1,l.push("/catalog")};return(e,t)=>((0,s.uX)(),(0,s.CE)("div",null,[(0,s.bF)((0,r.R1)(He),{onOpenModal:u}),(0,s.bF)((0,r.R1)(te),{isModalOpen:n.value,onCloseModal:c},{default:(0,s.k6)((()=>[(0,s.bF)((0,r.R1)(Ot),{cartItems:a.value,onCloseModalToCatalog:i},null,8,["cartItems"])])),_:1},8,["isModalOpen"])]))}});const ga=fa;var ba=ga;const xa={class:"flex flex-col items-center justify-center h-screen text-center bg-white"},ha=(0,s.Lk)("h1",{class:"text-6xl font-bold text-gray-900 mb-4"},"404",-1),ka=(0,s.Lk)("p",{class:"text-2xl text-gray-900 mb-8"},"Page Not Found",-1);function _a(e,t){const a=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",xa,[ha,ka,(0,s.bF)(a,{to:"/",class:"bg-black text-white hover:bg-gray-700 px-6 py-3 rounded-full"},{default:(0,s.k6)((()=>[(0,s.eW)(" Go to Home ")])),_:1})])}const Ca={},Ea=(0,c.A)(Ca,[["render",_a]]);var wa=Ea;const La={key:0,class:"flex items-center justify-center min-h-screen bg-gray-100"},Ra={key:1,class:"flex items-center justify-center min-h-screen bg-gray-100"};var Ta=(0,s.pM)({__name:"LoginView",setup(e){const t=(0,o.Pj)(),a=(0,Ie.rd)(),l=(0,s.EW)((()=>t.state.users.signedInUser)),n=(0,s.EW)((()=>t.state.users.isLoading));(0,s.wB)(l,(e=>{e&&a.push("/catalog")}));const u=(0,r.KR)(!0),c=()=>{u.value=!u.value};return(e,t)=>n.value?((0,s.uX)(),(0,s.CE)("div",La,[(0,s.bF)((0,r.R1)(U))])):((0,s.uX)(),(0,s.CE)("div",Ra,[u.value?((0,s.uX)(),(0,s.Wv)((0,r.R1)(H),{key:0,onToggleMode:c})):((0,s.uX)(),(0,s.Wv)((0,r.R1)(ea),{key:1,onToggleMode:c}))]))}});const Sa=Ta;var Ua=Sa;const Pa=(0,s.Lk)("h2",{class:"text-2xl font-semibold mb-6"},"Your Current Cart",-1),Aa={key:1,class:"text-lg text-gray-600"},Ia=(0,s.Lk)("h2",{class:"text-2xl font-semibold mb-6 mt-8"},"Purchased Carts",-1),Fa={key:3,class:"text-lg text-gray-600"};var Da=(0,s.pM)({__name:"UserCartsView",setup(e){const t=(0,o.Pj)(),a=(0,s.EW)((()=>t.state.products.userCart)),l=(0,s.EW)((()=>t.state.products.purchasedUserCarts));return(e,t)=>((0,s.uX)(),(0,s.CE)("div",null,[Pa,a.value?((0,s.uX)(),(0,s.Wv)((0,r.R1)(kt),{key:0,userCart:a.value},null,8,["userCart"])):((0,s.uX)(),(0,s.CE)("p",Aa," You currently have no items in your cart. ")),Ia,l.value.length>0?((0,s.uX)(),(0,s.Wv)((0,r.R1)(Qt),{key:2,purchasedUserCarts:l.value},null,8,["purchasedUserCarts"])):((0,s.uX)(),(0,s.CE)("p",Fa," You haven't made any purchases yet. "))]))}});const Oa=Da;var Va=Oa;const Xa=[{path:"/",name:"Home",component:pa},{path:"/catalog",name:"Catalog",component:ya},{path:"/product/:id",name:"ProductDetail",component:ba},{path:"/user",name:"User",component:Ua},{path:"/carts",name:"Carts",component:Va},{path:"/:pathMatch(.*)*",name:"NotFound",component:wa}],Ma=(0,Ie.aE)({history:(0,Ie.LA)("/online-store/"),routes:Xa});var Na=Ma,ja=a(4373);const Wa={products:[],allProducts:[],productDetail:null,productCart:[],userCart:null,purchasedUserCarts:[],categories:[],isLoading:!1},Ka={namespaced:!0,state:Wa,mutations:{SET_PRODUCTS(e,t){e.products=t},SET_ALL_PRODUCTS(e,t){e.allProducts=t},SET_PRODUCT_DETAIL(e,t){e.productDetail=t},SET_PRODUCT_CART(e,t){e.productCart=t},SET_USER_CART(e,t){e.userCart=t},SET_PURCHASED_CART(e,t){e.purchasedUserCarts=t},SET_CATEGORIES(e,t){e.categories=t},SET_LOADING(e,t){e.isLoading=t}},actions:{async fetchProducts({commit:e,state:t},a){e("SET_LOADING",!0);try{let l=[];if(a?.category){const e=await ja.A.get(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_API_URL}/products/?category=${a.category}`);l=e.data}else{if(0===t.allProducts.length){const t=await ja.A.get(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_API_URL}/products`);e("SET_ALL_PRODUCTS",t.data),l=t.data}else l=t.allProducts;if(a?.search){const e=a.search.toLowerCase();l=l.filter((t=>t.title.toLowerCase().includes(e)))}}e("SET_PRODUCTS",l)}catch(l){console.error("Failed to fetch products:",l)}finally{e("SET_LOADING",!1)}},async fetchProductDetail({commit:e},t){e("SET_LOADING",!0);try{const a=await ja.A.get(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_API_URL}/products/${t}`);e("SET_PRODUCT_DETAIL",a.data)}catch(a){console.error("Failed to fetch product detail:",a)}finally{e("SET_LOADING",!1)}},async fetchCategories({commit:e}){e("SET_LOADING",!0);try{const t=await ja.A.get(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_API_URL}/categories`);e("SET_CATEGORIES",t.data)}catch(t){console.error("Failed to fetch categories:",t)}finally{e("SET_LOADING",!1)}},addToCart({commit:e,state:t,rootState:a},l){let s=t.productCart;const r=s.findIndex((e=>e.id===l.id));-1!==r?s[r].quantity+=l.quantity:s=[...t.productCart,l],e("SET_PRODUCT_CART",s);const o=a.users.signedInUser;if(o){const t={user:o,cart:s};e("SET_USER_CART",t)}},removeCartItem({commit:e,state:t,rootState:a},l){const s=t.productCart.filter(((e,t)=>t!==l));e("SET_PRODUCT_CART",s);const r=a.users.signedInUser;if(r){const t={user:r,cart:s};e("SET_USER_CART",t)}},updateCartItemQuantity({commit:e,state:t,rootState:a},{index:l,quantity:s}){const r=t.productCart.map(((e,t)=>t===l?{...e,quantity:s}:e));e("SET_PRODUCT_CART",r);const o=a.users.signedInUser;if(o){const t={user:o,cart:r};e("SET_USER_CART",t)}},setUserCart({commit:e},t){e("SET_USER_CART",t)},setPurchasedCart({commit:e,state:t}){const a=(new Date).toISOString(),l={...t.userCart,purchaseDate:a},s=[...t.purchasedUserCarts,l];e("SET_PURCHASED_CART",s),e("SET_PRODUCT_CART",[]),e("SET_USER_CART",null)}}};var qa=Ka,Ga=a(5485);const Ba={signedInUser:null,token:"",isLoading:!1},$a={namespaced:!0,state:Ba,mutations:{SET_SIGNED_IN_USER(e,t){e.signedInUser=t},SET_TOKEN(e,t){e.token=t},REGISTER_USER(e,t){e.signedInUser=t},SET_LOADING(e,t){e.isLoading=t}},actions:{async loginUser({commit:e,dispatch:t,state:a,rootState:l},s){const r=(0,sa.dj)();e("SET_LOADING",!0);try{const o=await ja.A.post(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_BASE_URL}/token`,{username:s.username,password:s.password});e("SET_TOKEN",o.data.access),e("SET_SIGNED_IN_USER",o.data.user);const n=l.products.productCart;if(n.length>0){const e={user:a.signedInUser,cart:n};t("products/setUserCart",e,{root:!0})}r.success("Login successful")}catch(o){o instanceof Ga.pe&&r.error(`Login failed: ${o.response?.data.detail}`)}finally{e("SET_LOADING",!1)}},async registerUser({commit:e},t){const a=(0,sa.dj)();e("SET_LOADING",!0);try{await ja.A.post(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_BASE_URL}/register/`,t);const l=await ja.A.post(`${{NODE_ENV:"production",BASE_URL:"/online-store/"}.VUE_APP_BASE_URL}/token`,{username:t.username,password:t.password});e("SET_TOKEN",l.data.access),e("SET_SIGNED_IN_USER",l.data.user),a.success("Registration successful")}catch(l){l instanceof Ga.pe&&(a.error(`Registration failed: ${l.response?.data.email}`),a.error(`Registration failed: ${l.response?.data.username}`))}finally{e("SET_LOADING",!1)}}}};var Qa=$a,Ha=(0,o.y$)({modules:{products:qa,users:Qa}});a(7917);const Ya={position:sa.II.TOP_RIGHT,timeout:3e3,closeOnClick:!0,pauseOnHover:!0,draggable:!0,draggablePercent:.6,showCloseButtonOnHover:!1,hideProgressBar:!1,closeButton:"button",icon:!0,rtl:!1};(0,l.Ef)(la).use(Ha).use(Na).use(sa.Ay,Ya).mount("#app")}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var r=t[l]={exports:{}};return e[l].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,r){if(!l){var o=1/0;for(i=0;i<e.length;i++){l=e[i][0],s=e[i][1],r=e[i][2];for(var n=!0,u=0;u<l.length;u++)(!1&r||o>=r)&&Object.keys(a.O).every((function(e){return a.O[e](l[u])}))?l.splice(u--,1):(n=!1,r<o&&(o=r));if(n){e.splice(i--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var i=e.length;i>0&&e[i-1][2]>r;i--)e[i]=e[i-1];e[i]=[l,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/online-store/"}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,r,o=l[0],n=l[1],u=l[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(u)var i=u(a)}for(t&&t(l);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(i)},l=self["webpackChunkonline_store"]=self["webpackChunkonline_store"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[504],(function(){return a(6295)}));l=a.O(l)})();
//# sourceMappingURL=app.e8157800.js.map